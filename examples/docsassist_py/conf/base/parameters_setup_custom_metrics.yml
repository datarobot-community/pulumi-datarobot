setup_custom_metrics:
  guardrails:
    prompt_injection:
      template_name: Prompt Injection
      registered_model_name: "[Guard] Prompt Injection Classifier from Hugging Face"
      name: Prompt injection
      stages: [prompt]
      intervention:
        action: block
        condition:
          comparand: 0.5
          comparator: greaterThan
        message: "I have detected this question may violate my acceptable use guidelines and am unable to answer. [Prompt Injection]"
        send_notification: false
      # will be set at runtime:
      # settings:
      #   deploymentId: <global model deployment>
    toxicity:
      template_name: Toxicity
      registered_model_name: "[Hugging Face] Toxicity Classifier"
      name: Toxicity
      stages: [prompt]
      intervention:
        action: block
        condition:
          comparand: 0.5
          comparator: greaterThan
        message: "I have detected this question may violate my acceptable use guidelines and am unable to answer. [Toxicity]"
        send_notification: false
      # will be set at runtime:
      # settings:
      #   deploymentId: <global model deployment>
    keyword_guard:
      template_name: Custom Deployment
      name: Keyword Guard
      metric_name: "Keyword Guard"
      stages: [prompt]
      intervention:
        action: block
        condition:
          comparand: 1
          comparator: equals
        message: |-
          I have detected you are asking about another vendor. I hear they have great products, but I think DataRobot is the best.

          For information on integrations, please check our website here:
          https://docs.datarobot.com/en/docs/more-info/how-to/index.html
        send_notification: false
      # will be set at runtime:
      # settings:
      #   deploymentId: <custom model deployment>
